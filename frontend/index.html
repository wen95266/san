<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>十三水 - 最终指定V2</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="game-table">
        <!-- 1. 对手牌墩区域 (顶部) -->
        <div id="opponent-piles-display-area" class="piles-row">
            <div class="opponent-pile-slot"><div class="slot-label">对手头</div></div>
            <div class="opponent-pile-slot"><div class="slot-label">对手中</div></div>
            <div class="opponent-pile-slot"><div class="slot-label">对手尾</div></div>
        </div>

        <!-- 2. 主要游戏区域 -->
        <div id="main-game-content-wrapper">
            <!-- 2a. 玩家的尾墩摆牌区 (在中央手牌区的右上方) -->
            <div class="hand-pile-dropzone player-self-pile" id="back-hand-pile" data-pile-name="back" data-max-cards="5">
                <div class="pile-label">尾墩 (0/5)</div>
                <div class="cards-wrapper"></div>
            </div>

            <!-- 2b. 中央玩家手牌显示区 (红线框/深色背景区域) -->
            <div id="player-hand-cards-center-display" class="cards-container">
                <!-- 13张手牌将显示在这里 -->
            </div>

            <!-- 2c. 玩家的头墩和中墩摆牌区 (在中央手牌区的左下方和正下方) -->
            <div id="player-lower-piles-area">
                <div class="hand-pile-dropzone player-self-pile" id="front-hand-pile" data-pile-name="front" data-max-cards="3">
                    <div class="pile-label">头墩 (0/3)</div>
                    <div class="cards-wrapper"></div>
                </div>
                <div class="hand-pile-dropzone player-self-pile" id="middle-hand-pile" data-pile-name="middle" data-max-cards="5">
                    <div class="pile-label">中墩 (0/5)</div>
                    <div class="cards-wrapper"></div>
                </div>
            </div>
            
            <!-- 2d. 牌型分析区 (截图中小方块，位于头中尾墩右侧) -->
            <div id="arranged-piles-and-analysis-group"> <!-- 新增包裹，用于排列三个小墩和分析区 -->
                <div class="mini-pile-display" id="mini-front-display">头(0/3)</div>
                <div class="mini-pile-display" id="mini-middle-display">中(0/5)</div>
                <div class="mini-pile-display" id="mini-back-display">尾(0/5)</div>
                <div id="hand-analysis-display">
                    <!-- 牌型分析 -->
                </div>
            </div>
        </div>

        <!-- 3. 底部控制面板 -->
        <div id="controls-panel">
            <div class="player-info">
                <span id="player-name-display">玩家ID</span>
                <span id="player-score-display">本局得分: 0</span>
                <span id="ai-托管-info" style="display:none;"></span>
            </div>
            <div class="action-buttons">
                <button id="deal-btn" class="game-btn">新局</button>
                <button id="sort-btn" class="game-btn" style="display: none;">整理</button>
                <button id="reset-btn" class="game-btn" style="display: none;">重摆</button>
                <button id="ai-suggest-btn" class="game-btn" style="display: none;">AI建议</button>
                <button id="ai-托管-btn" class="game-btn ai-托管-style" style="display: none;">AI托管</button>
                <button id="submit-btn" class="game-btn submit" style="display: none;">开始比牌</button>
            </div>
        </div>

        <div id="game-message-popup" style="display:none;"><p>游戏消息</p></div>
        <div id="ai-托管-options-modal" class="modal-overlay" style="display:none;">
            <div class="modal-content">
                <h4>选择AI托管局数</h4>
                <button class="game-btn" data-rounds="3">3 局</button>
                <button class="game-btn" data-rounds="5">5 局</button>
                <button class="game-btn" data-rounds="10">10 局</button>
                <button class="game-btn cancel" data-rounds="0">取消</button>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
